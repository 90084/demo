<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1"><title>Bible Soap Opera Demo</title><meta name=description content="An Interactive Audio Soap Opera"><meta name=author content="Tim Roediger"><meta name=keywords content=blah><link rel="icon shortcut" type=image/png href=favicon.png><style>html,body{height:100%;width:100%;margin:0;text-align:center;overflow:hidden;font-size:30px;font-family:Sans-Serif}.top-nav{position:absolute;z-index:1;width:100%;height:40px;background-color:#000;top:-30px;transition-property:top;transition-duration:.25s;background-color:#2e2633;font-size:15px;text-align:left}.top-nav:hover{top:0}.top-nav img.logo{float:left;width:20px;height:20px;padding:10px}.top-nav div.logo{color:#99173c;font-weight:700;padding:12.5px}.screen{display:none;position:absolute;width:100%;height:100%;min-height:100%;transition-property:left,top;transition-duration:1s,1s;background-color:#efffcd;color:#555152;font-size:100%}.screen.left,.screen.right,.screen.up,.screen.down,.screen.active{display:table}.screen.left{left:-100%}.screen.right{left:100%}.screen.up{top:-100%}.screen.down{top:100%}.screen.active{left:0;top:0}.screen-inner{display:table-cell;vertical-align:middle;height:100%;min-height:100%}.screen-container{width:100%;margin-left:auto;margin-right:auto}.screen-container-inner{margin-left:auto;margin-right:auto;display:inline-block}</style><script>var bso = {}</script><script>bso.decodeUtf8=function(t){var e="",r=0,n=0,i=0;for(t.byteLength>=3&&239===t.getUint8(0)&&187===t.getUint8(1)&&191===t.getUint8(2)&&(r=3);r<t.byteLength;)if(n=t.getUint8(r),128>n)e+=String.fromCharCode(n),r++;else if(n>191&&224>n){if(r+1>=t.byteLength)throw"UTF-8 Decode failed. Two byte character was truncated.";i=t.getUint8(r+1),e+=String.fromCharCode((31&n)<<6|63&i),r+=2}else{if(r+2>=t.byteLength)throw"UTF-8 Decode failed. Multi byte character was truncated.";i=t.getUint8(r+1),c3=t.getUint8(r+2),e+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&c3),r+=3}return e};
bso.loadEpisode=function(e){var s=new XMLHttpRequest;s.open("GET","/"+e+".bso",!0),s.responseType="arraybuffer",s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=parseInt(bso.decodeUtf8(new DataView(this.response,0,16)).trim()),s=JSON.parse(bso.decodeUtf8(DataView(this.response,16,e)));s.audioUrl=URL.createObjectURL(new Blob([new DataView(this.response,16+e)],{type:"audio/mpeg"})),bso.runEpisode(s)}},s.send()};

bso.runEpisode=function(o){console.log(o),o.groups.forEach(function(){})};
bso.start=function(){bso.loadEpisode("ep1")};
function transitionend(e){e.target.removeEventListener("transitionend",transitionend),e.target.setAttribute("class","screen")}var activeScreenId="three";bso.screenTransition=function(e,t){var n=document.getElementById(activeScreenId),r=document.getElementById(e);n.addEventListener("transitionend",transitionend),r.setAttribute("class","screen "+t),setTimeout(function(){var e="left"==t?"right":"right"==t?"left":"up"==t?"down":"up";n.setAttribute("class","screen "+e),r.setAttribute("class","screen active")},10)};</script><script>bso.start()</script><script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script></head><body><div class=top-nav><img class=logo src=favicon.png><div class=logo>Bible Soap Opera</div></div><div id=loading class="screen active"><div class=screen-inner><div class=screen-container><div class=screen-container-inner>Loading episode ...</div></div></div></div></body></html>